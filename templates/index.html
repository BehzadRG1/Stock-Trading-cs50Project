{% extends "layout.html" %}

{% block title %}
    index
{% endblock %}

{% block main %}

<!-- this class from bootstrap. with that we don't need css codes. -->

    <table class="table table-striped table-dark">

        <thead>
            <tr>
                <th>symbol</th>
                <th>name</th>
                <th>shares</th>
                <th>price</th>
                <th>type</th>
                <th>total</th>
            </tr>
        </thead>

        <tbody>

            <!-- use jinja here because we need a for loop-->
            <!-- also use jinja to get values from our data base and add them here-->
            {% for item in items %}

            <tr>
                <td> {{ item["symbol"] }} </td>
                <td> {{ item["name"] }} </td>
                <td> {{ item["SUM(shares)"] }} </td>
                <td> {{ usd(item["price"]) }} </td>
                <td> {{ item["type"] }} </td>
                <td> {{ usd(item["SUM(shares)"] * item["price"]) }} </td>
            </tr>

            {% endfor %}

            <!-- we need another row here to show cash -->
            <!-- by use colspan we don't have to repeat 3 empty td tag -->

            <tr>
                <td>cash</td>
                <td colspan='4'></td>
                <td>{{ cash }}</td>
            </tr>

        </tbody>

        <tfoot>
            <td colspan='5'></td>
            <td> <b> {{ usd(total) }} </b> </td>
        </tfoot>

    </table>
{% endblock %}
